<div class="container">
  <div *ngIf="errorMessage" class="alert alert-danger">
    <h2>{{errorMessage}}</h2>
  </div>
  <p class="display-4">
    Selected Document: {{selectedDocumentId > 0 ? selectedDocumentId : 'Create New Document'}}
  </p>

  <form #ddForm="ngForm" *ngIf="selectedDocument">
    <div class="form-group">
      <label for="documentTemplate">Document Template</label>
      <br>
      <select class='select-option' [(ngModel)]='selectedDocument.DocumentTemplate.DocumentTemplateId' (ngModelChange)='onDocTemplateItemSelected($event)'
        name="documentTemplate">
        <option class='option' [value]="0">Select One</option>
        <option class='option' *ngFor='let templateItem of docTemplateList' [value]="templateItem.DocumentTemplateId">{{templateItem.Name}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="contact">Company</label>
      <br>
      <select class='select-option' (ngModelChange)="contactChanged($event)" [(ngModel)]='selectedDocument.Contact.ContactId' name="contact">
        <option class='option' [value]="0">Select One</option>
        <option class='option' *ngFor='let contact of contacts' [value]="contact.PrimaryKey">{{contact.name}}</option>
      </select>
    </div>

    <div class="form-group" *ngIf="people">
      <label for="person">Person</label>
      <br>
      <select class='select-option' (ngModelChange)="personChanged($event)" [(ngModel)]='selectedDocument.Person.PersonId' name="person">
        <option class='option' [value]="0">Select One</option> 
        <option class='option' *ngFor='let person of people.value' [value]="person.personId">{{person.firstName}} {{person.lastName}}</option>
      </select>
    </div>


    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" [(ngModel)]="selectedDocument.Name" id="name" name="name" required #name="ngModel">
      <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
    </div>

    <hr>
    <button type="button">
      <a (click)="goBack()">Go Back</a>
    </button>
  </form>
</div>